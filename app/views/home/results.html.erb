<script src="//maps.google.com/maps/api/js?key=AIzaSyDNS4nzfP6SpD9V53Ix9-av9kUJUGy7U4o"></script>
<script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
<script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script> <!-- only if you need custom infoboxes -->

  <div style='width: 800px;'>
    <div id="geolocation" style='width: 800px; height: 400px;'></div>
  </div>

<script type="text/javascript">
var handler = Gmaps.build('Google');
var markers = [
      ['London Eye, London', 51.503454,-0.119562],
      ['Palace of Westminster, London', 51.499633,-0.124755]
  ];
handler.buildMap({ internal: {id: 'geolocation'} }, function(){
  // for( i = 0; i < markers.length; i++ ) {
  //      var position = new google.maps.LatLng(markers[i][1], markers[i][2]);
  //      bounds.extend(position);
  //      markers = new google.maps.Marker({
  //          position: position,
  //          map: map,
  //          title: markers[i][0]
  //      });
  // be aware chrome >= 50 requires https for geolocation to work
  markers = handler.addMarkers([
  {
    "lat": 37.789527,
    "lng": -122.394276,
    "picture": {
      "url": "https://addons.cdn.mozilla.net/img/uploads/addon_icons/13/13028-64.png",
      "width":  36,
      "height": 36
    },
    "infowindow": "Global AI Hackathon!"
  },

  {
    "lat": 37.7859008,
    "lng":  -122.4108333,
    "picture": {
      "url": "https://addons.cdn.mozilla.net/img/uploads/addon_icons/13/13028-64.png",
      "width":  36,
      "height": 36
    },
    "infowindow": "DocuSign Momentum Hackathon 2017"
  },

  {
    "lat": 37.7836966,
    "lng":  -122.4089664,
    "picture": {
      "url": "https://addons.cdn.mozilla.net/img/uploads/addon_icons/13/13028-64.png",
      "width":  36,
      "height": 36
    },
    "infowindow": "Blockchain Hackathon | Bitcoin for your Thoughts?"
  },

  {
    "lat": 37.7844452,
    "lng": -122.4049522,
    "picture": {
      "url": "https://addons.cdn.mozilla.net/img/uploads/addon_icons/13/13028-64.png",
      "width":  36,
      "height": 36
    },
    "infowindow": "Ctrl Alt Delete Hate Hackathon"

  },



]);
  if(navigator.geolocation)
    navigator.geolocation.getCurrentPosition(displayOnMap);

});

function displayOnMap(position){
  var marker = handler.addMarker({
    lat: position.coords.latitude,
    lng: position.coords.longitude
  });
  handler.map.centerOn(marker);
};

</script>
